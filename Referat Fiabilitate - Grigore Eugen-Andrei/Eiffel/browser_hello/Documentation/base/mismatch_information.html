<HTML><HEAD>
<meta name="description" content="Original values of the attributes of a mismatched object."/>
<meta name="instructions" content="This object will contain the original values of the attributes of a retrieved object for which a mismatched was detected at retrieval time. The value are indexed by the name of the attribute in the stored object. One extra entry is provided to contain the original name of the class in the storing system, indexed by the string 'class'. This allows `correct_mismatch' to determine the original name of its generating class in case class-name translation is in effect."/>
<meta name="library" content="Free implementation of ELKS library"/>
<meta name="legal" content="See notice at end of class."/>
<meta name="keywords" content="Eiffel class"/>
<meta name="copyright" content="Copyright (c) 1984-2020, Eiffel Software and others"/>
<meta name="license" content="Eiffel Forum License v2 (see http://www.eiffel.com/licensing/forum.txt)"/>
<meta name="source" content="Eiffel Software 5949 Hollister Ave., Goleta, CA 93117 USA Telephone 805-685-1006, Fax 805-685-6869 Website http://www.eiffel.com Customer support http://support.eiffel.com"/>
<meta name="keywords" content="Eiffel class"/>
<TITLE>mismatch_information Text</TITLE></HEAD>
<BODY BGCOLOR="white">
<P ALIGN="CENTER">Automatic generation produced by ISE Eiffel</P>
<PRE><TABLE BORDER="1" ALIGN="CENTER"><TR><TD><A HREF="../class_list.html">Classes</A></TD><TD><A HREF="../cluster_list.html">Clusters</A></TD><TD><A HREF="../cluster_hierarchy.html">Cluster hierarchy</A></TD><TD><A HREF="mismatch_information_chart.html">Chart</A></TD><TD><A HREF="mismatch_information_links.html">Relations</A></TD><TD>Text</TD></TR></TABLE><B>note</B>
    description: "Original values of the attributes of a mismatched object."
    instructions: "[
        This object will contain the original values of the attributes
        of a retrieved object for which a mismatched was detected at
        retrieval time. The value are indexed by the name of the attribute
        in the stored object. One extra entry is provided to contain the
        original name of the class in the storing system, indexed by the
        string 'class'. This allows `<A HREF="../elks/hash_table.html#f_correct_mismatch">correct_mismatch</A>` to determine the
        original name of its generating class in case class-name
        translation is in effect.
    ]"
    library: "Free implementation of ELKS library"
    status: "See notice at end of class."
    legal: "See notice at end of class."
    date: "$Date: 2020-05-19 14:29:33 +0000 (Tue, 19 May 2020) $"
    revision: "$Revision: 104259 $"

<B>class</B> 
    <A HREF="../elks/mismatch_information.html">MISMATCH_INFORMATION</A>

<B>inherit</B>
    <A HREF="../elks/hash_table.html">HASH_TABLE</A> [<B>detachable</B> <A HREF="../elks/any.html">ANY</A>, <A HREF="../elks/string_8.html">STRING_8</A>]
        <B>redefine</B>
            <A HREF="../elks/mismatch_information.html#f_default_create">default_create</A>,
            <A HREF="../elks/mismatch_information.html#f_out">out</A>
        <B>end</B>

<B>create</B> {<A HREF="../elks/mismatch_corrector.html">MISMATCH_CORRECTOR</A>}
    <A HREF="../elks/mismatch_information.html#f_default_create">default_create</A>


<B>create</B> 
    <A HREF="../elks/hash_table.html#f_make">make</A>

<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Initialization</FONT>

    <A NAME="f_default_create"><A HREF="../elks/mismatch_information.html#f_default_create">default_create</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Make container with default size</FONT>
        <B>do</B>
            <A HREF="../elks/hash_table.html#f_make">make</A> (5)
            <A HREF="../elks/mismatch_information.html#f_set_callback_pointers">Set_callback_pointers</A>
        <B>end</B></A>
    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Access</FONT>

    <A NAME="f_class_name"><A HREF="../elks/mismatch_information.html#f_class_name">class_name</A>: <A HREF="../elks/string_8.html">STRING_8</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Name of generating class which held attribute values</FONT>
        <B>do</B>
            <B>check</B>
                has_class_entry: <A HREF="../elks/hash_table.html#f_has">has</A> (<A HREF="../elks/mismatch_information.html#f_type_name_key">Type_name_key</A>)
            <B>end</B>
            <B>check</B>
                <B>attached</B> {<A HREF="../elks/string_8.html">STRING_8</A>} <A HREF="../elks/hash_table.html#f_item">item</A> (<A HREF="../elks/mismatch_information.html#f_type_name_key">Type_name_key</A>) <B>as</B> r
            <B>then</B>
                <B>Result</B> := r
            <B>end</B>
        <B>ensure</B>
            result_exists: <B>Result</B> /= <B>Void</B>
        <B>end</B></A>

    <A NAME="f_stored_version"><A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A>: <B>detachable</B> <A HREF="../elks/immutable_string_8.html">IMMUTABLE_STRING_8</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Version associated to </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_class_name">class_name</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> in the stored system.</FONT>

    <A NAME="f_current_version"><A HREF="../elks/mismatch_information.html#f_current_version">current_version</A>: <B>detachable</B> <A HREF="../elks/immutable_string_8.html">IMMUTABLE_STRING_8</A></A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Version associated to </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_class_name">class_name</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> in the current system.</FONT>

    <A NAME="f_type_name_key"><A HREF="../elks/mismatch_information.html#f_type_name_key">Type_name_key</A>: <A HREF="../elks/string_8.html">STRING_8</A> = "_type_name"</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Associated key for retrieving the type name of a mismatch.</FONT>
    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Status report</FONT>

    <A NAME="f_is_version_mismatched"><A HREF="../elks/mismatch_information.html#f_is_version_mismatched">is_version_mismatched</A>: <A HREF="../elks/boolean.html">BOOLEAN</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Is the </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> different from the current system version?</FONT>
        <B>do</B>
            <B>Result</B> := <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A> /~ <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A>
        <B>end</B></A>
    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Settings</FONT>

    <A NAME="f_set_versions"><A HREF="../elks/mismatch_information.html#f_set_versions">set_versions</A> (a_stored_version: <B>like</B> <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A>; a_current_version: <B>like</B> <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A>)
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Set </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> with </FONT><I>a_stored_version</I><FONT COLOR="red">.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Set </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_current_version">current_version</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> with </FONT><I>a_current_version</I><FONT COLOR="red">.</FONT>
        <B>do</B>
            <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A> := a_stored_version
            <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A> := a_current_version
        <B>ensure</B>
            stored_version_set: <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A> = a_stored_version
            current_version_set: <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A> = a_current_version
        <B>end</B></A>
    
<B>feature</B> <FONT COLOR="red">--</FONT><FONT COLOR="red"> Output</FONT>

    <A NAME="f_out"><A HREF="../elks/mismatch_information.html#f_out">out</A>: <A HREF="../elks/string_8.html">STRING_8</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Printable representation of attributes values</FONT>
        <B>local</B>
            i: <B>detachable</B> <A HREF="../elks/any.html">ANY</A>
            k: <B>detachable</B> <A HREF="../elks/string_8.html">STRING_8</A>
        <B>do</B>
            <B>from</B>
                <B>create</B> <B>Result</B>.<A HREF="../elks/readable_string_8.html#f_make">make</A> (20 + <A HREF="../elks/mismatch_information.html#f_class_name">class_name</A>.<A HREF="../elks/readable_string_8.html#f_count">count</A> + 40 * <A HREF="../elks/hash_table.html#f_count">count</A>);
                <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> ("Attributes of original class ");
                <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> (<A HREF="../elks/mismatch_information.html#f_class_name">class_name</A>);
                <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> (": ");
                <B>Result</B>.<A HREF="../elks/string_8.html#f_append_integer">append_integer</A> (<A HREF="../elks/hash_table.html#f_count">count</A> - 1);
                <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> (" item")
                <B>if</B> <A HREF="../elks/hash_table.html#f_count">count</A> - 1 /= 1 <B>then</B>
                    <B>Result</B>.<A HREF="../elks/string_8.html#f_append_character">append_character</A> ('s')
                <B>end</B>;
                <B>Result</B>.<A HREF="../elks/string_8.html#f_append_character">append_character</A> ('%N')
                <A HREF="../elks/hash_table.html#f_start">start</A>
            <B>until</B>
                <A HREF="../elks/hash_table.html#f_after">after</A>
            <B>loop</B>
                k := <A HREF="../elks/hash_table.html#f_key_for_iteration">key_for_iteration</A>
                <B>if</B> k /~ <A HREF="../elks/mismatch_information.html#f_type_name_key">Type_name_key</A> <B>then</B>
                    <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> ("  ")
                    <B>if</B> k = <B>Void</B> <B>then</B>
                        <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> ("Void")
                    <B>else</B>
                        <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> (k)
                    <B>end</B>;
                    <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> (": ")
                    i := <A HREF="../elks/hash_table.html#f_item_for_iteration">item_for_iteration</A>
                    <B>if</B> i = <B>Void</B> <B>then</B>
                        <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> ("Void")
                    <B>else</B>
                        <B>Result</B>.<A HREF="../elks/string_8.html#f_append">append</A> (i.<A HREF="../elks/any.html#f_out">out</A>)
                    <B>end</B>;
                    <B>Result</B>.<A HREF="../elks/string_8.html#f_append_character">append_character</A> ('%N')
                <B>end</B>
                <A HREF="../elks/hash_table.html#f_forth">forth</A>
            <B>end</B>
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> Implementation</FONT>

    <A NAME="f_internal_put"><A HREF="../elks/mismatch_information.html#f_internal_put">internal_put</A> (value: <A HREF="../elks/any.html">ANY</A>; ckey: <A HREF="../elks/pointer.html">POINTER</A>)
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Allows run-time to insert items into table</FONT>
        <B>do</B>
            <A HREF="../elks/hash_table.html#f_put">put</A> (value, <B>create</B> {<A HREF="../elks/string_8.html">STRING_8</A>}.<A HREF="../elks/readable_string_8.html#f_make_from_c">make_from_c</A> (ckey) <B>end</B>)
        <B>end</B></A>

    <A NAME="f_set_string_versions"><A HREF="../elks/mismatch_information.html#f_set_string_versions">set_string_versions</A> (a_stored_version, a_current_version: <A HREF="../elks/pointer.html">POINTER</A>)
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Set </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> with </FONT><I>a_stored_version</I><FONT COLOR="red">.</FONT>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Set </FONT><FONT COLOR="red">`</FONT><A HREF="../elks/mismatch_information.html#f_current_version">current_version</A><FONT COLOR="red">`</FONT><FONT COLOR="red"> with </FONT><I>a_current_version</I><FONT COLOR="red">.</FONT>
        <B>local</B>
            l_imm: <A HREF="../elks/immutable_string_8.html">IMMUTABLE_STRING_8</A>
        <B>do</B>
            <B>if</B> a_stored_version = <A HREF="../elks/any.html#f_default_pointer">default_pointer</A> <B>then</B>
                <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A> := <B>Void</B>
            <B>else</B>
                <B>create</B> l_imm.<A HREF="../elks/readable_string_8.html#f_make_from_c">make_from_c</A> (a_stored_version)
                <B>if</B> l_imm.<A HREF="../elks/immutable_string_8.html#f_is_empty">is_empty</A> <B>then</B>
                    <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A> := <B>Void</B>
                <B>else</B>
                    <A HREF="../elks/mismatch_information.html#f_stored_version">stored_version</A> := l_imm
                <B>end</B>
            <B>end</B>
            <B>if</B> a_current_version = <A HREF="../elks/any.html#f_default_pointer">default_pointer</A> <B>then</B>
                <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A> := <B>Void</B>
            <B>else</B>
                <B>create</B> l_imm.<A HREF="../elks/readable_string_8.html#f_make_from_c">make_from_c</A> (a_current_version)
                <B>if</B> l_imm.<A HREF="../elks/immutable_string_8.html#f_is_empty">is_empty</A> <B>then</B>
                    <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A> := <B>Void</B>
                <B>else</B>
                    <A HREF="../elks/mismatch_information.html#f_current_version">current_version</A> := l_imm
                <B>end</B>
            <B>end</B>
        <B>end</B></A>

    <A NAME="f_set_callback_pointers"><A HREF="../elks/mismatch_information.html#f_set_callback_pointers">Set_callback_pointers</A>
            <FONT COLOR="red">--</FONT><FONT COLOR="red"> Sets call-back pointers in the run-time</FONT>
        <B>once</B>
            <A HREF="../elks/mismatch_information.html#f_set_mismatch_information_access">set_mismatch_information_access</A> (<B>Current</B>, $<A HREF="../elks/hash_table.html#f_wipe_out">wipe_out</A>, $<A HREF="../elks/mismatch_information.html#f_internal_put">internal_put</A>, $<A HREF="../elks/mismatch_information.html#f_set_string_versions">set_string_versions</A>)
        <B>end</B></A>
    
<B>feature</B> {NONE} <FONT COLOR="red">--</FONT><FONT COLOR="red"> Externals</FONT>

    <A NAME="f_set_mismatch_information_access"><A HREF="../elks/mismatch_information.html#f_set_mismatch_information_access">set_mismatch_information_access</A> (obj: <A HREF="../elks/any.html">ANY</A>; init, add, set_vers: <A HREF="../elks/pointer.html">POINTER</A>)
        <B>external</B>
            "C signature (EIF_OBJECT, EIF_PROCEDURE, EIF_PROCEDURE, EIF_PROCEDURE) use &lt;eif_retrieve.h&gt;"
        <B>end</B></A>
    
<B>note</B>
    copyright: "Copyright (c) 1984-2020, Eiffel Software and others"
    license: "Eiffel Forum License v2 (see <a href="http://www.eiffel.com/licensing/forum.txt">http://www.eiffel.com/licensing/forum.txt</a>)"
    source: "[
        Eiffel Software
        5949 Hollister Ave., Goleta, CA 93117 USA
        Telephone 805-685-1006, Fax 805-685-6869
        Website <a href="http://www.eiffel.com">http://www.eiffel.com</a>
        Customer support <a href="http://support.eiffel.com">http://support.eiffel.com</a>
    ]"

<B>end</B> <FONT COLOR="red">--</FONT> <FONT COLOR="red">class </FONT><A HREF="../elks/mismatch_information.html">MISMATCH_INFORMATION</A><TABLE BORDER="1" ALIGN="CENTER"><TR><TD><A HREF="../class_list.html">Classes</A></TD><TD><A HREF="../cluster_list.html">Clusters</A></TD><TD><A HREF="../cluster_hierarchy.html">Cluster hierarchy</A></TD><TD><A HREF="mismatch_information_chart.html">Chart</A></TD><TD><A HREF="mismatch_information_links.html">Relations</A></TD><TD>Text</TD></TR></TABLE></PRE>
<P ALIGN="CENTER"> &#045;&#045; Generated by ISE Eiffel &#045;&#045 </P>
<P ALIGN="CENTER">For more details: <A HREF="http://www.eiffel.com">www.eiffel.com</A></P>
</BODY>
</HTML>

